(this["webpackJsonpmkpa-metrics"]=this["webpackJsonpmkpa-metrics"]||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r,a,o=n(0),c=n(1),s=n.n(c),i=n(10),u=n.n(i),l=(n(23),n(11)),p=n(12),f=n(17),b=n(16),d=(n(24),n(2)),h=n.n(d),j=n(4),v=n(8),g=n(13),x=n.n(g),O=n(14),y=n(6),m=n(9),k=n(26),w={location:"",metrics:{SEN:[],totalAttended:0,totalBoys:0,totalGirls:0,ageGroups:{totalZeroToFive:0,totalSixToEight:0,totalNineToEleven:0,totalTwelveToFourteen:0,totalOverFourteen:0,empty:0},ethnicities:[],postcodes:[]}},T=[],G=function(e){var t=r.totalBoys,n=r.totalGirls;"m"===e?r.totalBoys=t+1:r.totalGirls=n+1},F=function(e){var t=r.ageGroups.totalZeroToFive,n=r.ageGroups.totalSixToEight,a=r.ageGroups.totalNineToEleven,o=r.ageGroups.totalTwelveToFourteen,c=r.ageGroups.totalOverFourteen,s=r.ageGroups.empty;switch(!0){case e<-1:r.ageGroups.empty=s+1;break;case e<6:r.ageGroups.totalZeroToFive=t+1;break;case e<9:r.ageGroups.totalSixToEight=n+1;break;case e<12:r.ageGroups.totalNineToEleven=a+1;break;case e<15:r.ageGroups.totalTwelveToFourteen=o+1;break;case e>14:r.ageGroups.totalOverFourteen=c+1}},S=function(e){var t=Object(m.a)(r.ethnicities),n=k.findIndex(t,(function(t){return t.ethnicity===e}));if(-1===n)t.push({ethnicity:e,count:1});else{var a=t[n].count;t[n].count=a+1}r.ethnicities=Object(m.a)(t)},C=function(e){var t=r.postcodes,n=k.findIndex(t,(function(t){return t.postcode===e}));if(-1===n)t.push({postcode:e,count:1});else{var a=t[n].count;t[n].count=a+1}r.postcodes=t},E=function(e){var t=r.SEN,n=k.findIndex(t,(function(t){return t.condition===e}));if(-1===n)t.push({condition:e,count:1});else{var a=t[n].count;t[n].count=a+1}r.SEN=t},N=function(){var e=Object(j.a)(h.a.mark((function e(t){var n,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return-1===(n=k.findIndex(T,(function(e){return e.location===t})))?((o=Object(y.a)({},w)).location=t,a=T.length,T.push(o),(r=Object(y.a)({},T[a].metrics)).totalAttended=1):(a=n,(r=Object(y.a)({},T[a].metrics)).totalAttended=r.totalAttended+1),e.abrupt("return",0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(j.a)(h.a.mark((function e(t){var n,o,c,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t.type);case 2:if(e.sent,"male"!==t.maleorfemale.toString().toLowerCase()){e.next=9;break}return e.next=7,G("m");case 7:e.next=11;break;case 9:return e.next=11,G("f");case 11:return n=new Date,o=""===t.yearofbirth.replace(/\s+/g,"")?3e3:t.BirthYear,c=n.getFullYear()-o,e.next=16,F(c);case 16:return s=""===t.pleasechooseappropiateethnicityofyourchild.replace(/\s+/g,"")?"empty":t.pleasechooseappropiateethnicityofyourchild.replace(/\s+/g,""),e.next=19,S(s);case 19:return i=""===t.postcode.replace(/\s+/g,"")?"empty":t.postcode.replace(/\s+/g,"").slice(0,-3).toLowerCase(),e.next=22,C(i);case 22:if("yes"!==t.doesyourchildhaveanyspecialeducationalneeds.toLowerCase().replace(/\s/g,"")||!t.ifyespleasesignifybelow){e.next=25;break}return e.next=25,E(t.ifyespleasesignifybelow);case 25:T[a].metrics=Object(y.a)({},r);case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(j.a)(h.a.mark((function e(t){var n,r,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(O.a)(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=10;break}if("checkedin"!==(a=r.value).label.replace(/\s+/g,"").toLowerCase()){e.next=8;break}return e.next=8,L(a);case 8:e.next=3;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:return console.log(JSON.stringify(T)),console.log("==========================="),console.log("==========================="),console.log("==========================="),console.log("==========================="),console.log(T),e.abrupt("return",T);case 25:case"end":return e.stop()}}),e,null,[[1,12,15,18]])})));return function(t){return e.apply(this,arguments)}}(),B=(n(29),n(15)),I=n.n(B),D=function(){var e=Object(c.useState)([]),t=Object(v.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(v.a)(a,2),i=s[0],u=s[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)("h1",{children:"MKPA Metrics"}),Object(o.jsx)("h3",{children:"Select csv file here"}),Object(o.jsx)("br",{}),Object(o.jsx)("div",{children:Object(o.jsx)("input",{type:"file",name:"file",accept:".csv",onChange:function(e){u(!1),I.a.parse(e.target.files[0],{header:!0,transformHeader:function(e){return e.replace(/\s+/g,"").replace("?","").replace(",","").toLowerCase()},skipEmptyLines:!0,complete:function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,A(t.data);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})}})}),Object(o.jsx)("br",{}),Object(o.jsx)("button",{onClick:function(){return u(!0)},children:"Print Data"}),Object(o.jsx)("br",{}),Object(o.jsx)("div",{className:"leftAlign",children:i&&n.length>0?Object(o.jsx)(x.a,{src:n,theme:"hopscotch",displayDataTypes:!1}):Object(o.jsx)("p",{children:" "})})]})},P=function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return Object(o.jsx)("div",{className:"App",children:Object(o.jsx)(D,{})})}}]),n}(c.Component),J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),o(e),c(e)}))};u.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(P,{})}),document.getElementById("root")),J()}},[[30,1,2]]]);
//# sourceMappingURL=main.f0c67b03.chunk.js.map